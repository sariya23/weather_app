{% extends "base.html" %}
{% block content %}
<div class="container">
    <h1 class="text-center">Погода</h1>
    <form method="post" name="city" id="cityForm" action="/weather/city">
        <div class="form-floating">
            <input type="text" class="form-control" id="floatingInput"
                placeholder="Moscow" , name="data">
            <label for="floatingInput">Введите название города</label>
            <input class="btn btn-primary mt-4" type="submit"
                value="Узнать погоду" id="sendCity" disabled>
        </div>
    </form>
    <div class="container">

        {% if cities %}
        {% for city in cities %}
        <form method="post" name="city_name" action="/weather/city">
            <input class="btn btn-primary mt-4" type="submit"
            value="{{city.city}} {{city.country}}" id="city">
        </form>
        {% endfor %}
        {% elif weather %}
            <div class="weather">
                <div class="weather__temperature-image">
                    <img src="{{ url_for('static', path='/images/weather_icons/' ~ icon) }}" class="temerature-image__image weather_image" alt="">
                    <span class="temperature-image__temperature weather_value">{{ weather.temperature }} °C</span>
                </div>
                <div class="weather__wind-image">
                    <img src="{{ url_for('static', path='/images/weather_icons/wind_icon.png')}}" class="wind-image__wind-image weather_image"></img>
                    <span class="wind-image__wind-speed weather_value"> {{ weather.wind_speed }} m/s</span>
                </div>
                <div class="weather__location">
                    <div class="weather__location__location-time">
                        <p class="location-time__location location_label">
                            Погода в <span class="location_value">{{ weather.location|title  }}</span>
                        </p>
                        <p class="location-time__time location_label">
                           По местному времени: <span class="location_value">{{ date }} {{ time }}</span>
                        </p>
                    </div>
                </div>
            </div>
        {% elif message %}
        <div class="no_weather">
            <div class="no_weather__gopher_image">
                <img src="{{ url_for('static', path='/images/gopher_info/gopher_fix.png') }}" class="gopher_image__image">
            </div>
            <div class="no_weather__text">
                <span> {{ message }}</span>
            </div>
        </div> 
        {% else %}
        <div class="no_weather">
            <div class="no_weather__gopher_image">
                <img src="{{ url_for('static', path='/images/gopher_info/gopher_play.png') }}" class="gopher_image__image">
            </div>
            <div class="no_weather__text">
                <span>Ждем, когда вы введете погоду</span>
            </div>
        </div>
        {% endif %}
    </div>
</div>
<script src="{{ url_for('static', path='/script/disableButtonWithEmptyInput.js') }}">
</script>
{% endblock %}
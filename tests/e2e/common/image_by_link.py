from functools import cached_property
import io

import urllib.request
from PIL import Image


class ImageByLink:
    """
    Класс представляет изображение, которое скачивается по ссылке.
    """
    def __init__(self, link):
        self.link = link

    @cached_property
    def content(self) -> bytes:
        """
        Содержимое файла в байтовом представлении.
        """
        with urllib.request.urlopen(self.link) as file:
            return file.read()

    @cached_property
    def source_size(self) -> int:
        """
        Размер изображения в байтах
        """
        return len(self.content)

    @cached_property
    def size(self) -> tuple[int, int]:
        """
        Размер изображения в виде кортежа (X, Y) в пикселях.
        """
        image = Image.open(io.BytesIO(self.content))
        return image.size

    def get_file_extension(self) -> str:
        """
        Возвращает расширение файла.
        """
        image = Image.open(io.BytesIO(self.content))
        return image.format

    def is_image(self) -> bool:
        """
        Метод проверяет, что файл является изображением.
        """
        return self.get_file_extension().lower() in ('jpg', 'png', 'jpeg')


im = ImageByLink("data:image/png;base64,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")
print(im.is_image())